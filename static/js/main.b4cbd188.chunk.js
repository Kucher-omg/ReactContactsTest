(this["webpackJsonpmkdir-contacts"]=this["webpackJsonpmkdir-contacts"]||[]).push([[0],{106:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},20:function(e,t,c){e.exports={formCreate:"Contacts_formCreate__kJ-pP",contact:"Contacts_contact__2bcwr",delete:"Contacts_delete__1SdUx",contactsList:"Contacts_contactsList__1_okD"}},240:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),i=c.n(a),r=c(52),s=c.n(r),o=(c(137),c(138),c(8)),d=c(28),j=c.n(d),l=c(30).NavLink,u=function(e){return Object(n.jsx)("div",{className:j.a.header,children:Object(n.jsxs)("div",{className:j.a.forNavLink,children:[Object(n.jsx)(l,{to:"/contacts",className:j.a.navLink,activeClassName:j.a.activeNavLink,children:"Contacts+create"}),Object(n.jsx)(l,{to:"/favcontacts",className:j.a.navLink,activeClassName:j.a.activeNavLink,children:"Favourite contacts"})]})})},b=c(15),m=c(56),O=c(11),h="CREATE-CARD",v="DELETE-CARD",x="SET-FAV",f="EDIT-CARD",p="ADD-EDIT-ID",N={cards:[],editId:0},C=function(e){return{type:f,editedCard:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(O.a)(Object(O.a)({},e),{},{cards:[t.card].concat(Object(m.a)(e.cards))});case x:return Object(O.a)(Object(O.a)({},e),{},{cards:e.cards.map((function(e,c){return e.id===t.id?(e.isFavourite=t.bool,e):e}))});case f:return Object(O.a)(Object(O.a)({},e),{},{cards:e.cards.map((function(e,c){return e.id===t.editedCard.id?t.editedCard:e}))});case p:return Object(O.a)(Object(O.a)({},e),{},{editId:t.id});case v:return Object(O.a)(Object(O.a)({},e),{},{cards:e.cards.filter((function(e){return e.id!==t.cardId}))});default:return e}},g=c(53),k=c(101),S=c(102),_=i.a.memo((function(e){Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("contacts"));null!==t&&t.length!==e.cards.length&&t.forEach((function(c,n){e.createCard(t[n])}))}),[]);return Object(n.jsx)("div",{children:Object(n.jsx)(I,{onSubmit:function(t,c){var n="f".concat((~~(1e8*Math.random())).toString(16));t.id=n,t.isFavourite||(t.isFavourite=!1);var a=t;localStorage.setItem("contacts",JSON.stringify([].concat(Object(m.a)(e.cards),[a]))),e.createCard(a),c(Object(g.a)("contact"))}})})})),I=function(e){var t=e.handleSubmit;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"name",children:"Name"}),Object(n.jsx)(k.a,{name:"name",component:"input",type:"text"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(n.jsx)(k.a,{name:"phone",component:"input",type:"text"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"email",children:"Email"}),Object(n.jsx)(k.a,{name:"email",component:"input",type:"email"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"fav",children:"Favourite"}),Object(n.jsx)(k.a,{name:"isFavourite",component:"input",type:"checkbox"})]}),Object(n.jsx)("button",{type:"submit",children:"Submit"})]})};I=Object(S.a)({form:"contact"})(I);var y=_,L=c(20),E=c.n(L),J=c(30),D=function(e){var t=e.card,c=t.name,a=t.phone,i=t.email,r=t.id,s=t.isFavourite;return Object(n.jsxs)("div",{className:E.a.contact,children:[Object(n.jsxs)("div",{className:E.a.name,children:[c,Object(n.jsx)("span",{onClick:function(){return function(t){e.deleteCard(t);var c=JSON.parse(localStorage.getItem("contacts"));localStorage.setItem("contacts",JSON.stringify(c.filter((function(e){return e.id!==t}))))}(r)},className:E.a.delete,children:"X"})]}),Object(n.jsx)("div",{className:E.a.phone,children:a}),Object(n.jsx)("div",{className:E.a.email,children:i}),Object(n.jsx)("input",{onClick:function(){return function(t,c){e.isFavourite(t,c);var n=JSON.parse(localStorage.getItem("contacts"));localStorage.setItem("contacts",JSON.stringify(n.map((function(e){return e.id===t&&(e.isFavourite=c),e}))))}(r,!s)},checked:s,type:"checkbox"}),Object(n.jsx)(J.NavLink,{to:"/edit",children:Object(n.jsx)("input",{onClick:function(){e.editId(e.card)},type:"button",value:"edit card"})})]},r)},T=function(e){var t=e.cards.map((function(t){return Object(n.jsx)("div",{className:E.a.contactsList,children:Object(n.jsx)(D,{editId:e.editId,isFavourite:e.isFavourite,deleteCard:e.deleteCard,card:t})})}));return Object(n.jsxs)("div",{className:E.a.contacts,children:[Object(n.jsx)("div",{className:E.a.formCreate,children:Object(n.jsx)(y,Object(O.a)({},e))}),t]})},A=Object(b.b)((function(e){return{cards:e.contacts.cards}}),{editCard:C,createCard:function(e){return{type:h,card:e}},isFavourite:function(e,t){return{type:x,id:e,bool:t}},deleteCard:function(e){return{type:v,cardId:e}},editId:function(e){return{type:p,id:e}}})(T),H=c(43),w=c.n(H),P=function(e){var t=e.cards.map((function(e){if(!0===e.isFavourite){var t=e.name,c=e.phone,a=e.email,i=e.id;e.isFavourite;return Object(n.jsxs)("div",{className:w.a.contact,children:[Object(n.jsx)("div",{className:w.a.name,children:t}),Object(n.jsx)("div",{className:w.a.phone,children:c}),Object(n.jsx)("div",{className:w.a.email,children:a})]},i)}}));return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"Your`s favourite contacts"}),t]})},R=Object(b.b)((function(e){return{cards:e.contacts.cards}}),{})(P),B=c(106),M=c.n(B),U=function(e){var t=e.handleSubmit,c=e.editId,a=c.name,i=c.phone,r=c.email;c.isFavourite;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"name",children:"Name"}),Object(n.jsx)(k.a,{name:"name",component:"input",type:"text",placeholder:a})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(n.jsx)(k.a,{name:"phone",component:"input",type:"text",placeholder:i})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"email",children:"Email"}),Object(n.jsx)(k.a,{name:"email",component:"input",type:"email",placeholder:r})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"fav",children:"Favourite"}),Object(n.jsx)(k.a,{name:"isFavourite",component:"input",type:"checkbox"})]}),Object(n.jsx)("button",{type:"submit",children:"Submit"})]})};U=Object(S.a)({form:"editContact"})(U);var Y=Object(o.o)((function(e){return Object(n.jsx)("div",{className:M.a.contacts,children:Object(n.jsx)(U,Object(O.a)({onSubmit:function(t){t.isFavourite||(t.isFavourite=!1),t.id=e.editId.id,console.log(t),e.editCard(t);var c=JSON.parse(localStorage.getItem("contacts"));localStorage.setItem("contacts",JSON.stringify(c.map((function(e){return e.id===t.id?t:e})))),e.history.push("/contacts")}},e))})})),q=Object(b.b)((function(e){return{editId:e.contacts.editId}}),{editCard:C})(Y),V=Object(o.o)((function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)(u,{})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(o.d,{path:"/contacts",render:function(){return Object(n.jsx)(A,{})}}),Object(n.jsx)(o.d,{path:"/favcontacts",render:function(){return Object(n.jsx)(R,{})}}),Object(n.jsx)(o.d,{path:"/edit",render:function(){return Object(n.jsx)(q,{})}})]})]})})),X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,241)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))},Z=c(9),z=c(103),G=Object(Z.b)({contacts:F,form:z.a}),K=Object(Z.c)(G);s.a.render(Object(n.jsx)(J.HashRouter,{children:Object(n.jsx)(b.a,{store:K,children:Object(n.jsx)(V,{})})}),document.getElementById("root")),X()},28:function(e,t,c){e.exports={navLink:"Header_navLink__1w83Z",forNavLink:"Header_forNavLink__15eEY",activeNavLink:"Header_activeNavLink__UaxJt",header:"Header_header__2Hqkk"}},43:function(e,t,c){e.exports={contact:"Favourite_contact__1-2rM"}}},[[240,1,2]]]);
//# sourceMappingURL=main.b4cbd188.chunk.js.map